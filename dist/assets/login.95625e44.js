import{a as e,u as r,b as s}from"./token.fb9cb3d2.js";import{g as t}from"./userCenter.0654c2bb.js";const o=e(),a=r();function n(e,r){return s.post(o.url+"/user/login/",{email:e.value.email,password:e.value.password,code:e.value.password,login_type:r})}function u(e){return s.post(o.url+"/user/code/",{email:e})}async function c(){if(""===a.token)return!0;try{if(200===(await t()).status)return!1}catch(e){if(console.log(e),"ERR_NETWORK"===e.code)return!1;try{const e=await async function(){return s.post(o.url+"/user/refresh/",{refresh:a.refresh})}();return a.removeToken(),a.setToken(e.data.access),!1}catch(r){return console.log(r),!0}}}export{c as i,n as l,u as v};
