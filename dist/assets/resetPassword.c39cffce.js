import{h as e,o as s,c as a,j as t,w as l,v as o,t as r}from"./vendor.40eb074b.js";import{v as u}from"./login.e3a96ea0.js";import{u as n}from"./url.910aed66.js";n();const d={class:"wrap"},i={class:"main"},c={class:"form"},m={class:"formItem"},v={class:"formItem"},p=["disabled"],f={class:"formItem"},b={__name:"resetPassword",setup(n){const b=e({email:"",code:"",password:""}),g=e("发送验证码"),y=e(!1);function h(){y.value=!0;let e=30;const s=setInterval((()=>{g.value=`重新发送（${e--}s）`,0===e&&(clearInterval(s),y.value=!1,g.value="发送验证码")}),1e3);u(b.value.email).then((e=>{200===e.status&&ElMessage({message:"验证码发送成功",type:"success",duration:2500,offset:45})})).catch((e=>{ElMessage({message:"验证码发送失败",type:"error",duration:2500,offset:45})}))}function w(){w().then((e=>{200===response.status&&ElMessage({message:"密码修改成功",type:"success",duration:2500,offset:45})})).catch((e=>{ElMessage({message:"密码修改失败",type:"error",duration:2500,offset:45})}))}return(e,u)=>(s(),a("div",d,[u[7]||(u[7]=t("div",{class:"header"}," 重置密码（前端不想做页面） ",-1)),t("div",i,[t("div",c,[t("div",m,[u[4]||(u[4]=t("label",{for:""},"邮箱",-1)),l(t("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=e=>b.value.email=e)},null,512),[[o,b.value.email]])]),t("div",v,[u[5]||(u[5]=t("label",{for:""},"验证码",-1)),l(t("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=e=>b.value.code=e)},null,512),[[o,b.value.code]]),t("button",{onClick:h,disabled:y.value},r(g.value),9,p)]),t("div",f,[u[6]||(u[6]=t("label",{for:""},"新密码",-1)),l(t("input",{type:"text","onUpdate:modelValue":u[2]||(u[2]=e=>b.value.password=e)},null,512),[[o,b.value.password]])]),t("div",{class:"formItem",onClick:w},[t("button",{onClick:u[3]||(u[3]=()=>{})},"确认")])])])]))}};export{b as default};
