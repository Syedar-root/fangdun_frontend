import{k as e,o as s,c as a,n as t,w as l,v as o,t as r}from"./vendor.6bb3a353.js";import{v as n}from"./login.d28bb0f7.js";import{a as u}from"./token.fb9cb3d2.js";import"./userCenter.0654c2bb.js";u();const d={class:"wrap"},i={class:"main"},c={class:"form"},m={class:"formItem"},v={class:"formItem"},f=["disabled"],p={class:"formItem"},b={__name:"resetPassword",setup(u){const b=e({email:"",code:"",password:""}),g=e("发送验证码"),y=e(!1);function w(){y.value=!0;let e=30;const s=setInterval((()=>{g.value=`重新发送（${e--}s）`,0===e&&(clearInterval(s),y.value=!1,g.value="发送验证码")}),1e3);n(b.value.email).then((e=>{200===e.status&&ElMessage({message:"验证码发送成功",type:"success",duration:2500,offset:45})})).catch((e=>{ElMessage({message:"验证码发送失败",type:"error",duration:2500,offset:45})}))}function I(){I().then((e=>{200===response.status&&ElMessage({message:"密码修改成功",type:"success",duration:2500,offset:45})})).catch((e=>{ElMessage({message:"密码修改失败",type:"error",duration:2500,offset:45})}))}return(e,n)=>(s(),a("div",d,[n[7]||(n[7]=t("div",{class:"header"}," 重置密码（前端不想做页面） ",-1)),t("div",i,[t("div",c,[t("div",m,[n[4]||(n[4]=t("label",{for:""},"邮箱",-1)),l(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>b.value.email=e)},null,512),[[o,b.value.email]])]),t("div",v,[n[5]||(n[5]=t("label",{for:""},"验证码",-1)),l(t("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>b.value.code=e)},null,512),[[o,b.value.code]]),t("button",{onClick:w,disabled:y.value},r(g.value),9,f)]),t("div",p,[n[6]||(n[6]=t("label",{for:""},"新密码",-1)),l(t("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=e=>b.value.password=e)},null,512),[[o,b.value.password]])]),t("div",{class:"formItem",onClick:I},[t("button",{onClick:n[3]||(n[3]=()=>{})},"确认")])])])]))}};export{b as default};
